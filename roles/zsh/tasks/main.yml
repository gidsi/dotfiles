# Installation and setup
- name: Install packages
  pacman:
    name:
      - zsh
      - thefuck
      - exa
      - fzf
      - keychain
    state: present

- name: Set theme
  copy:
    src: "{{ dotfiles_user_home }}/.base16colors/templates/shell/scripts/base16-{{ theme }}.sh"
    dest: "{{ dotfiles_user_home }}/.zsh_theme.sh"
    mode: "755"
  tags:
    - "theme"

- name: link zshrc
  file:
    src: "{{ dotfiles_home }}/roles/zsh/files/zshrc"
    dest: "{{ dotfiles_user_home }}/.zshrc"
    state: link

- name: Add Oh My Zsh
  git:
    repo: "https://github.com/robbyrussell/oh-my-zsh.git"
    dest: "{{ dotfiles_user_home }}/.oh-my-zsh"

- name: Add Oh My Zsh syntax highlighting
  git:
    repo: "https://github.com/zsh-users/zsh-syntax-highlighting.git"
    dest: "{{ dotfiles_user_home }}/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting"

- name: Add oh my zsh kubetail plugin
  git:
    repo: "https://github.com/johanhaleby/kubetail.git"
    dest: "{{ dotfiles_user_home }}/.oh-my-zsh/custom/plugins/kubetail"
